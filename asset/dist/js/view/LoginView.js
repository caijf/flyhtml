define(["backbone","model/session","text!template/login.html"],function(e,t,n){var r=e.View.extend({className:"modal-dialog",events:{"submit form":"auth"},initialize:function(){t.on("invalid",this.loginError,this)},render:function(){return this.$el.html(n),this.el},auth:function(e){e.preventDefault(),t.login({username:this.getInputVal("username"),password:this.getInputVal("password"),remember:this.getInputVal("remember")})},loginError:function(e,t){this.$(".alert").html(t).removeClass("hide")},getInputVal:function(e){return $.trim(this.$("[name="+e+"]").val())}});return r});