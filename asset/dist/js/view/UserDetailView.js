define(["backbone","text!template/userDetail.html","text!template/topicListItem.html","util"],function(e,t,n,r){var i=e.View.extend({el:$("#main"),initialize:function(e){r.cachedAjax("/pjax/users/"+e.username).done(_.bind(this.render,this))},render:function(e){var n=this.options.fragment;this.model=e,this.$el.html(_.template(t,e)),this.$topics=this.$(".topics"),~n.indexOf("likes")?this.likes():~n.indexOf("comments")?this.comments():this.topics()},topics:function(){r.cachedAjax("/pjax/users/"+this.model.id+"/topics").done(_.bind(this.renderList,this)),this.select("topics")},likes:function(){r.cachedAjax("/pjax/users/"+this.model.id+"/likes").done(_.bind(this.renderList,this)),this.select("likes")},comments:function(){r.cachedAjax("/pjax/users/"+this.model.id+"/comments").done(_.bind(this.renderList,this)),this.select("comments")},select:function(e){this.$(".nav .active").removeClass("active"),this.$(".js-"+e).addClass("active")},renderList:function(e,t,i){var s,o=e.length,u=this.$topics;if(o){var a=_.template(n);for(var f=0;f<o;f++)u.append(a(e[f]))}else s='<div class="alert alert-info">								No exist topics 							</div>',u.html(s);r.alert.hide()}});return i});