define(["backbone","collection/TopicCollection","text!template/topicList.html","view/asideView","util"],function(e,t,n,r,i){var s=i.template(n),o=e.View.extend({className:"list-group-item list-group-item-hover",template:_.template(s.item("topic-item-template")),render:function(){var e=this.model.toJSON();return this.$el.html(this.template(e)),this.el}}),u=e.View.extend({el:$("#main"),initialize:function(e){this.collection=new t,this.collection.on("sync",this.render,this),this.collection.fetch({data:e}).done(function(){i.alert.hide(),$(document).scrollTop(0)})},render:function(e,t){this.$el.html(s.item("layout-template"));var n=this.$(".list-group"),u;this.options.search?u="/topics/search/"+t.search+"/p":u="/topics/p",e.length?(e.forEach(function(e){n.append((new o({model:e})).render())}),i.paginator.render({count:t.count,page:t.page,url:u,perPage:t.perPage}).insertAfter(n)):this.options.search&&n.html(_.template(s.item("search-result-template"),{search:t.search})),new r({el:this.$(".aside")})}});return u});