define(["backbone"],function(e,t,n){var r=e.Model.extend({urlRoot:"/session",validate:function(e){return e.username?e.password?e.error:"Please input your password":"Please input your username"},login:function(e){this.save(e,{success:this.refresh})},logout:function(){this.destroy({success:this.refresh})},isGuest:function(){return!this.get("username")},auth:function(){return this.isGuest()?(this.trigger("login"),!1):!0},refresh:function(){location.href=location.href}});return new r(user)});